@using System.Collections.Generic
@using Sandbox;
@using Sandbox.UI;
@inherits PanelComponent

<root>
	<img class="menuIcon" texture="@MenuIcon.ResourcePath" alt="" onclick=@( () => MenuOpen = !MenuOpen )/>
	<div class="@(MenuOpen ? "itemContainer" : "hide")">
		@foreach ( var i in Items )
		{
			<image class="entry" texture="@i.ItemIcon.ResourcePath" alt="" onclick="@( () => SpawnItem( i ) )"/>
		}
	</div>
</root>

@code
{
	[Property] public Texture MenuIcon { get; set; }
	[Property] public List<Item> Items { get; set; }
	private bool MenuOpen { get; set; } = false;
	protected override void OnFixedUpdate()
	{
		
	}
	private void SpawnItem( Item i )
	{
		var go = i.Prefab.Clone( Vector3.Zero.WithZ( 196 ) );
		
	}
	protected override int BuildHash()
	{
		return MenuIcon.GetHashCode();
	}
}
